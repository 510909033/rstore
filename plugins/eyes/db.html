<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name="description" content=""><meta name="author" content=""><title>Rstore Eyes Plugin | v1.0</title><link href="css/bootstrap.min.css" rel="stylesheet"><link href="css/bootstrap-table.min.css" rel="stylesheet"><script src="js/json_syntax_highlight.js"></script><script src="js/jquery-3.1.1.min.js"></script><script src="js/bootstrap.min.js"></script><script src="js/bootstrap-table.min.js"></script><script src="js/jsoneditor.min.js"></script><script src="js/common.js"></script><style>.breadcrumb{margin-top:50px}.string{color:green}.number{color:#ff8c00}.boolean{color:#00f}.null{color:#ff00ff}.key{color:red}</style></head><body><div id="common_confirm_model" class="modal"><div class="modal-dialog modal-sm"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">&times;</span></button><h5 class="modal-title"><i class="fa fa-exclamation-circle"></i> <span class="title"></span></h5></div><div class="modal-body small"><p><span class="message"></span></p></div><div class="modal-footer"><button type="button" class="btn btn-primary ok" data-dismiss="modal">OK</button> <button type="button" class="btn btn-default cancel" data-dismiss="modal">Cancel</button></div></div></div></div><div id="myModal" class="modal fade" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title title"></h4></div><div class="modal-body"><pre class="message"></pre></div><div class="modal-footer"><button type="button" class="btn btn-default ok" data-dismiss="modal">OK</button></div></div></div></div><div id="editModal" class="modal fade" tabindex="-2" role="dialog"><div class="modal-dialog modal-lg"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button><h4 class="modal-title" id="editModalTitle"></h4></div><div class="modal-body"><section class="section"><ul class="nav nav-tabs" id="tabScm"><li id="tabRedis"><a href="#">Redis</a></li><li id="tabPostgres"><a href="#">Postgres</a></li><li id="tabMysql"><a href="#">Mysql</a></li></ul><div class="row"><div class="col-md-6"><div class="card card-block sameheight-item"><div id="editor_holder"></div></div></div><div class="col-md-6"><div class="card card-block"><h3>Preview</h3><pre id="preview"></pre><button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button> <input id="save" class="btn btn-success" href="#" type="button" value="Save Or Update"></div></div></div></section></div><div class="modal-footer"></div></div></div></div><div class="navbar navbar-inverse navbar-fixed-top" role="navigation"><div class="container"><div class="navbar-left" style="padding-right:10px"><img src="logo.png" width="40px"></div><div class="navbar-header"><a class="navbar-brand" href="index.html">RstoreEyes</a></div><div class="navbar-collapse collapse"><ul class="nav navbar-nav"><li><a href="db.html">DBUnit</a></li><li><a href="dbgroup.html">DBGroup</a></li><li><a href="shard.html">Shard</a></li><li><a href="rule.html">Rule</a></li></ul><ul class="nav navbar-nav navbar-right"><li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown"><i class="glyphicon glyphicon-share-alt"></i> GitHub <b class="caret"></b></a><ul class="dropdown-menu"><li><a target="_blank" href="https://github.com/lycying/rstore">Source</a></li></ul></li><li><a href="../../debug/pprof/" target="_blank">Pprof</a></li></ul></div></div></div><div class="container"><ul class="breadcrumb"><li><a href="index.html">Home</a> <span class="divider">&gt;</span></li><li class="active">DB Unit List</li></ul><ul class="nav nav-tabs"><li id="tabAllRedis"><a href="#">Redis</a></li><li id="tabAllPostgres"><a href="#">Postgres</a></li><li id="tabAllMysql"><a href="#">Mysql</a></li></ul><div id="postgresTableOuter"><div id="postgresToolbar"><button type="button" class="btn btn-primary btn-xs addNewBtn"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span>add new db unit</button></div><table id="postgresTable" data-striped="true" data-toggle="table" data-show-toggle="true" data-toolbar="#postgresToolbar" data-show-columns="true" data-search="true" data-side-pagination="client" data-pagination="true" data-show-refresh="true" data-cache="false" data-sort-name="Name" data-sort-order="asc" data-url="../../api/db/all/pg"><thead><tr><th data-field="Type">Type</th><th data-field="Name" data-sortable="true">Name(Unique)</th><th data-field="MaxIdle" data-sortable="true">Max Idle</th><th data-field="MaxOpen" data-sortable="true">Max Open</th><th data-field="MaxLifetime" data-sortable="true">MaxLifetime</th><th data-field="State" data-formatter="state">E/S</th><th data-field="Mark">Mark</th><th data-field="Optr" data-formatter="optr" data-events="operateEvents">Operate</th></tr></thead></table></div><div id="mysqlTableOuter"><div id="mysqlToolbar"><button type="button" class="btn btn-primary btn-xs addNewBtn"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span>add new db unit</button></div><table id="mySqlTable" data-striped="true" data-toggle="table" data-show-toggle="true" data-toolbar="#mysqlToolbar" data-show-columns="true" data-search="true" data-side-pagination="client" data-pagination="true" data-show-refresh="true" data-cache="false" data-sort-name="Name" data-sort-order="asc" data-url="../../api/db/all/mysql"><thead><tr><th data-field="Type">Type</th><th data-field="Name" data-sortable="true">Name(Unique)</th><th data-field="MaxIdle" data-sortable="true">Max Idle</th><th data-field="MaxOpen" data-sortable="true">Max Open</th><th data-field="MaxLifetime" data-sortable="true">MaxLifetime</th><th data-field="State" data-sortable="true" data-formatter="state">E/S</th><th data-field="Mark">Mark</th><th data-field="Optr" data-formatter="optr" data-events="operateEvents">Operate</th></tr></thead></table></div><div id="redisTableOuter"><div id="redisToolbar"><button type="button" class="btn btn-primary btn-xs addNewBtn"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span>add new db unit</button></div><table id="redisTable" data-striped="true" data-toggle="table" data-show-toggle="true" data-toolbar="#redisToolbar" data-show-columns="true" data-search="true" data-side-pagination="client" data-pagination="true" data-show-refresh="true" data-cache="false" data-sort-name="Name" data-sort-order="asc" data-url="../../api/db/all/redis"><thead><tr><th data-field="Type">Type</th><th data-field="Name" data-sortable="true">Name(Unique)</th><th data-field="Server" data-sortable="true">Server(hostname)</th><th data-field="Port" data-sortable="true">Port</th><th data-field="State" data-sortable="true" data-formatter="state">E/S</th><th data-field="Mark">Mark</th><th data-field="Optr" data-formatter="optr" data-events="operateEvents">Operate</th></tr></thead></table></div><style>.string{color:green}.number{color:#ff8c00}.boolean{color:#00f}.null{color:#ff00ff}.key{color:red}</style><script>var redisScm={type:"object",title:"Redis",properties:{Type:{type:"string",enum:["redis"],required:!0},Name:{type:"string",title:"Supply a unique name",default:""},Enable:{type:"boolean",title:"If inused",format:"checkbox"},Server:{type:"string",title:"Server",minLength:2,default:"localhost"},Port:{type:"integer",title:"Port",default:6379},Mark:{type:"string",title:"Mark",format:"textarea",default:""}}},postgresScm={type:"object",title:"Postgres",properties:{Type:{type:"string",enum:["postgres"],required:!0},Name:{type:"string",title:"Supply a unique name",default:""},Enable:{type:"boolean",title:"If inused",format:"checkbox"},Url:{type:"string",title:"URL",minLength:12,default:"postgres://postgres:postgres@localhost/postgres?sslmode=disable"},MaxIdle:{type:"integer",title:"MaxIdle",default:10},MaxOpen:{type:"integer",title:"MaxOpen",default:10},MaxLifetime:{type:"integer",title:"MaxLifetime (Second)",default:60},Mark:{type:"string",title:"Mark",format:"textarea",default:""}}},mysqlScm={type:"object",title:"Mysql",properties:{Type:{type:"string",enum:["mysql"],required:!0},Name:{type:"string",title:"Supply a unique name",default:""},Enable:{type:"boolean",title:"If inused",format:"checkbox"},Url:{type:"string",title:"URL",minLength:12,default:"user:password@tcp(localhost:5555)/dbname?tls=skip-verify&autocommit=true"},MaxIdle:{type:"integer",title:"MaxIdle",default:10},MaxOpen:{type:"integer",title:"MaxOpen",default:10},MaxLifetime:{type:"integer",title:"MaxLifetime (Second)",default:60},Mark:{type:"string",title:"Mark",format:"textarea",default:""}}},table,editor;JSONEditor.defaults.options.theme="bootstrap3",JSONEditor.defaults.options.iconlib="bootstrap3",JSONEditor.defaults.options.disable_properties="true",JSONEditor.defaults.options.no_additional_properties="true",JSONEditor.defaults.options.disable_array_reorder="true",$("#tabRedis").click(function(){$("#tabMysql").removeClass("active"),$("#tabPostgres").removeClass("active"),$("#tabRedis").addClass("active"),$("#editor_holder").html(""),editor=new JSONEditor(document.getElementById("editor_holder"),{schema:redisScm}),editor.on("change",function(){$("#preview").html(syntaxHighlight(editor.getValue()))})}),$("#tabPostgres").click(function(){$("#tabMysql").removeClass("active"),$("#tabRedis").removeClass("active"),$("#tabPostgres").addClass("active"),$("#editor_holder").html(""),editor=new JSONEditor(document.getElementById("editor_holder"),{schema:postgresScm}),editor.on("change",function(){$("#preview").html(syntaxHighlight(editor.getValue()))})}),$("#tabMysql").click(function(){$("#tabPostgres").removeClass("active"),$("#tabRedis").removeClass("active"),$("#tabMysql").addClass("active"),$("#editor_holder").html(""),editor=new JSONEditor(document.getElementById("editor_holder"),{schema:mysqlScm}),editor.on("change",function(){$("#preview").html(syntaxHighlight(editor.getValue()))})}),$("#save").click(function(){editor.validate().length||($("#save").prop("disabled",!0),$.ajax({contentType:"application/json",data:JSON.stringify(editor.getValue()),dataType:"json",success:function(e){$("#editModal").modal("hide"),$("#save").prop("disabled",!1),"OK"==e.result?table.bootstrapTable("refresh"):Common.info({title:"Error",message:"<b>"+e.result+"</b><br/>"+e.msg,operate:function(e){}})},error:function(e,t){alert(t),$("#save").prop("disabled",!1)},processData:!1,type:"POST",url:"../../api/db/save"}))});var optr=function(e,t,a){return"<input class='btn btn-info btn-xs edit' type='button' value='edit'></input> &nbsp;<input class='btn btn-danger btn-xs delete' type='button' value='delete'></input>"},state=function(e,t,a){return str="",t.Enable?str+='<span class="label label-success">yes</span>':str+='<span class="label label-danger">no</span>',str+="&nbsp;",0==t.State?str+='<span class="label label-success">ok</span>':str+='<span class="label label-danger">fail</span>',str};window.operateEvents={"click .edit":function(e,t,a,l){"postgres"==a.Type?$("#tabPostgres").trigger("click"):"mysql"==a.Type?$("#tabMysql").trigger("click"):"redis"==a.Type&&$("#tabRedis").trigger("click"),editor.setValue(a),editor.getEditor("root.Name").disable(),editor.on("change",function(){$("#preview").html(syntaxHighlight(editor.getValue()))});var s=editor.validate();s.length&&alert(JSON.stringify(s)),$("#editModalTitle").html("Edit - "+a.Name),$("#editModal").modal("show")},"click .delete":function(e,t,a,l){Common.confirm({title:"Really?",message:"do you want delete <b>"+a.Name+"</b>?",operate:function(e){if(e){var t="";"postgres"==a.Type?t="pg":"mysql"==a.Type?t="mysql":"redis"==a.Type&&(t="redis");var l="../../api/db/delete/"+t+"/"+a.Name;$.ajax({contentType:"application/json",dataType:"json",success:function(e){"OK"==e.result?table.bootstrapTable("remove",{field:"Name",values:[a.Name]}):Common.info({title:"Error",message:"<b>"+e.result+"</b><br/>"+e.msg,operate:function(e){}})},error:function(e,t){Common.info({title:"Error",message:"<b>"+t+"</b><br/>"+JSON.stringify(e,null,2),operate:function(e){}})},processData:!1,type:"DELETE",url:l})}}})}},$(".addNewBtn").click(function(){$("#editModalTitle").html("Add New DB Unit"),$("#editModal").modal("show"),$("#tabScm").show(),editor.getEditor("root.Name").enable()}),$("#tabAllPostgres").click(function(){$("#tabAllMysql").removeClass("active"),$("#tabAllRedis").removeClass("active"),$("#tabAllPostgres").addClass("active"),$("#mysqlTableOuter").hide(),$("#redisTableOuter").hide(),$("#postgresTableOuter").show(),table=$("#postgresTable"),table.bootstrapTable("destroy").bootstrapTable(),$("#tabPostgres").trigger("click")}),$("#tabAllMysql").click(function(){$("#tabAllPostgres").removeClass("active"),$("#tabAllRedis").removeClass("active"),$("#tabAllMysql").addClass("active"),$("#postgresTableOuter").hide(),$("#redisTableOuter").hide(),$("#mysqlTableOuter").show(),table=$("#mySqlTable"),table.bootstrapTable("destroy").bootstrapTable(),$("#tabMysql").trigger("click")}),$("#tabAllRedis").click(function(){$("#tabAllMysql").removeClass("active"),$("#tabAllPostgres").removeClass("active"),$("#tabAllRedis").addClass("active"),$("#mysqlTableOuter").hide(),$("#postgresTableOuter").hide(),$("#redisTableOuter").show(),table=$("#redisTable"),table.bootstrapTable("destroy").bootstrapTable(),$("#tabRedis").trigger("click")}),$("#tabScm").hide(),$("#tabAllPostgres").trigger("click")</script><div class="mt-1" style="border-top:.05rem solid #e5e5e5"><h1>Make your redis cheap and reliable</h1></div><p class="lead">rstore is a cluster database that use redis protocol and mysql|postgresql as its backend. with awesome dashboard.</p><p><a href="https://github.com/lycying/rstore" target="_blank">view the rstore</a></p></div><footer class="footer"><div class="container"><span class="text-muted">rstore: https://github.com/lycying/rstore</span></div></footer></body></html>